setting up Miniconda...
activating virtual env...
current conda environment: basic310
activating ssh connection...
Agent pid 2427408
Identity added: /home/11864265/.ssh/id_ed25519 (11864265@fnwi-h0.science.uva.nl)
parsing input arguments...
Branch: feature/retrain_grammar
fetching and pulling latest changes from remote dir...
Already up to date.
running perturbed masking...
Started to load full PCFG...
Finished loading PCFG...
************ Creating subset PCFG with top k = 0.2... ************
Starting with 2513065 productions.
Created subset PCFG with a length of 2228320 productions.
Cleaning subset: (1) removing unreachable productions...
Amount of reachable nonterminals: 114
Finished cleaning subset (1) left with 324611 productions.
Cleaning subset: (2) renormalizing probabilities...
Finished cleaning subset (2)
Cleaning subset: (3) adding POS tags...
Finished cleaning subset (3)
Write subset PCFG to pickle...
Traceback (most recent call last):
  File "/home/11864265/Documents/thesis_code/reduce_grammar/generate_subset.py", line 273, in <module>
    subset_pcfg, subset_pcfg_pos = load_subset_pcfg(prod_productions_v2, 
  File "/home/11864265/Documents/thesis_code/reduce_grammar/generate_subset.py", line 247, in load_subset_pcfg
    subset_pcfg, subset_pcfg_pos = create_subset_pcfg(prob_productions, args, top_k, save=save, lexical=lexical, no_recursion=no_recursion)
  File "/home/11864265/Documents/thesis_code/reduce_grammar/generate_subset.py", line 226, in create_subset_pcfg
    write_to_txt(subset_pcfg, f'{args.output_dir}/subset_pcfg_{top_k}{version}.txt')
  File "/home/11864265/Documents/thesis_code/reduce_grammar/generate_subset.py", line 157, in write_to_txt
    for prod in subset_pcfg.productions():
NameError: name 'subset_pcfg' is not defined. Did you mean: 'load_subset_pcfg'?
srun: error: fnwi-cn005: task 0: Exited with exit code 1
adding, committing, and pushing results to remote dir...
